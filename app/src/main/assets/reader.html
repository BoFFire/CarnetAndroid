

<!DOCTYPE html>
<html>
   <head>
	   <link rel="stylesheet" type="text/css" href="getdesign.php?w=19" />
		 <link rel="stylesheet" type="text/css" href="getdesign.php?a=302" />
       <title>Phoenablog ! - PhoenaBlog ! </title>
       <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
       <meta name="viewport" content="width=device-width, height=device-height, user-scalable=no" />
    
		<link rel="stylesheet" href="assets/design/icon.css">
		<link rel="stylesheet" href="assets/design/material.indigo-pink.min.css">
		<link rel="stylesheet" href="assets/design/standalone.css">
		<link rel="stylesheet" href="assets/design/android.css">
   </head>

   <body>
	    <script defer src="assets/scripts/material.min.js"></script>
	    <script src="assets/scripts/jquery.min.js"></script>
		<script src="assets/scripts/jquery.mobile-min.js"></script>
		<script src="assets/scripts/jquery.webkitresize.js"></script>
		<script src="assets/scripts/jquery-ui.min.js"></script>
		<script src="assets/scripts/editor.js"></script>
		<script src="assets/scripts/spi_toolbar.js"></script>
		<script src="assets/scripts/standalone.js"></script>
		<script src="assets/scripts/Countable.js"></script>
		<script src="assets/scripts/jquery.ui.touch-punch.min.js"></script>
		<script type="text/javascript">
		  function readSingleFile(evt) {
			//Retrieve the first (and only!) File from the FileList object
			var f = evt.target.files[0]; 

			if (f) {
			  var r = new FileReader();
			  r.onload = function(e) { 
				  var contents = e.target.result;
				 loadText(contents)
			  }
			  r.readAsText(f);
			} else { 
			  alert("Failed to load file");
			}
		  }
		   document.getElementById('fileinput').addEventListener('change', readSingleFile, false);
		   function saveTextAsFile()
		{
			var textToWrite = document.getElementById("editor").innerHTML;
			var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'});
			var fileNameToSaveAs = document.getElementById("fileinput").value;
			  var downloadLink = document.createElement("a");
			downloadLink.download = fileNameToSaveAs;
			downloadLink.innerHTML = "Download File";
			if (window.webkitURL != null)
			{
				// Chrome allows the link to be clicked
				// without actually adding it to the DOM.
				downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
			}
			else
			{
				// Firefox requires the link to be added to the DOM
				// before it can be clicked.
				downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
				downloadLink.onclick = destroyClickedElement;
				downloadLink.style.display = "none";
				document.body.appendChild(downloadLink);
			}

			downloadLink.click();
		}

		function errorHandler(te){
			
		}
		
		function resetScreenHeight(){
			var screen = $.mobile.getScreenHeight(),
				header = $("#header").height(),
				content = screen - header; 
				 style = window.getComputedStyle(document.getElementById("header"));
			if(style.getPropertyValue('display')=="none")
				content=screen;
			$("#center").height(content); 
			$("#editor").height(content-50);
		}
		</script>




<!-- dialogs declaration -->

<!-- <statistics> -->
<dialog class="mdl-dialog" id="statsdialog">
    <h4 class="mdl-dialog__title">Statistics</h4>
    <div class="mdl-dialog__content">
      <p>
		Sentences : <span class="sentences_count"></span> <br />
        Words : <span class="words_count"></span> <br />
        Characters : <span class="characters_count"></span><br />
      </p>
    </div>
    <div class="mdl-dialog__actions">
      <button type="button" class="mdl-button ok">OK</button>
    </div>
  </dialog>
 
 
 
 
 <script>
    var mStatsDialog = document.querySelector('#statsdialog');
    var showDialogButton = document.querySelector('#show-dialog');
    if (! mStatsDialog.showModal) {
      dialogPolyfill.registerDialog(mStatsDialog);
    }
   
    mStatsDialog.querySelector('.ok').addEventListener('click', function() {
		mStatsDialog.close();
      
    });
    function displayCountDialog(){
		if(window.getSelection().toString().length==0){
			nouveauDiv = oDoc;

			
		}
		else{
			nouveauDiv = document.createElement("div");
			nouveauDiv.innerHTML = window.getSelection();
		}
		Countable.once(nouveauDiv, function (counter) {
			mStatsDialog.querySelector('.words_count').innerHTML = counter.words;
			mStatsDialog.querySelector('.characters_count').innerHTML = counter.characters;
			mStatsDialog.querySelector('.sentences_count').innerHTML = counter.sentences;
			mStatsDialog.showModal();
		});
		
	}
    
 </script>

<!-- </statistics> -->






















<div id="notification"></div>
<!--<div id="title" ><h1 contenteditable="true">test</h1></div>-->

 <input type="file" id="fileinput" style="display:none;"/>


</script>
	<div is="spi-toolbar" onclick="this.hello()">test<br /><br /><br />erer</div>

<div id="header">

	<div is="spi-toolbar" id="filebar" class="blue500">
			<a class="button" onclick="$('#fileinput').click();" href="#">Open File</a>
			<a class="button" onclick=" saveTextAsFile();" href="#">Save File</a>
	</div>

	<div is="spi-toolbar" id="toolBar2" class="blue500">

	<img class="intLink" title="Undo" onclick="displayCountDialog();" src="assets/images/lc_undo.png" />




	<img class="intLink" title="Redo" onclick="formatDoc('redo');" src="assets/images/lc_redo.png" />
	<img class="intLink" title="Bold" onclick="formatDoc('bold');" src="assets/images/lc_bold.png" />
	<img class="intLink" title="Italic" onclick="formatDoc('italic');" src="assets/images/lc_italic.png" />
	<img class="intLink" title="Underline" onclick="formatDoc('underline');" src="assets/images/lc_underline.png" />
	<img class="intLink" title="Underline" onclick="increaseFontSize();" src="assets/images/lc_underline.png" />
	<img class="intLink" title="Underline" onclick="decreaseFontSize();" src="assets/images/lc_underline.png" />
	<img class="intLink" title="Left align" onclick="formatDoc('justifyleft');" src="assets/images/lc_alignleft.png" />
	<img class="intLink" title="Center align" onclick="formatDoc('justifycenter');" src="assets/images/lc_alignhorizontalcenter.png" />
	<img class="intLink" title="Right align" onclick="formatDoc('justifyright');" src="assets/images/lc_alignright.png" />

	<img class="intLink" title="Cut" onclick="formatDoc('cut');" src="data:image/gif;base64,R0lGODlhFgAWAIQSAB1ChBFNsRJTySJYwjljwkxwl19vj1dusYODhl6MnHmOrpqbmpGjuaezxrCztcDCxL/I18rL1P///////////////////////////////////////////////////////yH5BAEAAB8ALAAAAAAWABYAAAVu4CeOZGmeaKqubDs6TNnEbGNApNG0kbGMi5trwcA9GArXh+FAfBAw5UexUDAQESkRsfhJPwaH4YsEGAAJGisRGAQY7UCC9ZAXBB+74LGCRxIEHwAHdWooDgGJcwpxDisQBQRjIgkDCVlfmZqbmiEAOw==" />
	<img class="intLink" title="Copy" onclick="formatDoc('copy');" src="data:image/gif;base64,R0lGODlhFgAWAIQcAB1ChBFNsTRLYyJYwjljwl9vj1iE31iGzF6MnHWX9HOdz5GjuYCl2YKl8ZOt4qezxqK63aK/9KPD+7DI3b/I17LM/MrL1MLY9NHa7OPs++bx/Pv8/f///////////////yH5BAEAAB8ALAAAAAAWABYAAAWG4CeOZGmeaKqubOum1SQ/kPVOW749BeVSus2CgrCxHptLBbOQxCSNCCaF1GUqwQbBd0JGJAyGJJiobE+LnCaDcXAaEoxhQACgNw0FQx9kP+wmaRgYFBQNeAoGihCAJQsCkJAKOhgXEw8BLQYciooHf5o7EA+kC40qBKkAAAGrpy+wsbKzIiEAOw==" />
	<img class="intLink" title="Paste" onclick="formatDoc('paste');" src="data:image/gif;base64,R0lGODlhFgAWAIQUAD04KTRLY2tXQF9vj414WZWIbXmOrpqbmpGjudClFaezxsa0cb/I1+3YitHa7PrkIPHvbuPs+/fvrvv8/f///////////////////////////////////////////////yH5BAEAAB8ALAAAAAAWABYAAAWN4CeOZGmeaKqubGsusPvBSyFJjVDs6nJLB0khR4AkBCmfsCGBQAoCwjF5gwquVykSFbwZE+AwIBV0GhFog2EwIDchjwRiQo9E2Fx4XD5R+B0DDAEnBXBhBhN2DgwDAQFjJYVhCQYRfgoIDGiQJAWTCQMRiwwMfgicnVcAAAMOaK+bLAOrtLUyt7i5uiUhADs=" />

	<img class="intLink" title="Paste" onclick="
	Countable.once(oEditor, function (counter) {
	  alert(counter.words)
	});" src="data:image/gif;base64,R0lGODlhFgAWAIQUAD04KTRLY2tXQF9vj414WZWIbXmOrpqbmpGjudClFaezxsa0cb/I1+3YitHa7PrkIPHvbuPs+/fvrvv8/f///////////////////////////////////////////////yH5BAEAAB8ALAAAAAAWABYAAAWN4CeOZGmeaKqubGsusPvBSyFJjVDs6nJLB0khR4AkBCmfsCGBQAoCwjF5gwquVykSFbwZE+AwIBV0GhFog2EwIDchjwRiQo9E2Fx4XD5R+B0DDAEnBXBhBhN2DgwDAQFjJYVhCQYRfgoIDGiQJAWTCQMRiwwMfgicnVcAAAMOaK+bLAOrtLUyt7i5uiUhADs=" />

	</div>
</div>
<div id="center"  style="height:100%;padding:0px;">
	<div id="editor" style="height:100%;overflow-y: auto;overflow-x: none;margin:0px;position: relative;">
		<div id="text" contenteditable="true" style="height:100%;"><!-- be aware that THIS will be modified in java -->
			 <!-- soft won't save note if contains donotsave345oL -->
		</div>
		<div id="floating">
		  
		</div>
	</div>
</div>
<script>
	  //notify("Use your right and left arrow to navigate through the text !");
  
initDoc();
resetScreenHeight();
$(window).on('resize', resetScreenHeight);
  </script>
	
</body>
</head>
